<!DOCTYPE html>
<html>
<head>
    <title>第八章：从 shell 眼中看世界 - Shell脚本学习 - Shell百科</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="keywords" content="Linux命令行,shell,linux命令大全,shell脚本,shell脚本编程,linux shell,第八章：从 shell 眼中看世界" />
    <meta name="description" content="在这一章我们将看一下，当你按下 enter 键后，发生在命令行中的一些“魔法”。虽然我们会 仔细查看几个复杂有趣的 shell 特点，但我们只使用一个新命令来处理这些特性。" />
    <link rel="stylesheet" href="../static/css/main.css" tppabs="http://shellbaike.com/static/css/main.css" />
    <link rel="stylesheet" href="../static/css/prism.css" tppabs="http://shellbaike.com/static/css/prism.css" />
</head>
<body>
<div id="header">
    <div class="wrapper">
        <div id="header_top">
            <h1 class="logH1"><a href="javascript:if(confirm('http://shellbaike.com/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/'" tppabs="http://shellbaike.com/" title="Shell百科 最全linux命令大全 Shell脚本编程技巧分享">Shell百科</a></h1>
            <h3 class="logH3"><a href="javascript:if(confirm('http://shellbaike.com/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/'" tppabs="http://shellbaike.com/">shellbaike.com</a></h3>
        </div>
        <div id="header_ad">

        </div>
        <div class="clear"></div>
        <div id="header_nav">
            <ul>
                <li><a href="javascript:if(confirm('http://shellbaike.com/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/'" tppabs="http://shellbaike.com/">首页</a></li>
                <li><a href="javascript:if(confirm('http://shellbaike.com/cmd/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/'" tppabs="http://shellbaike.com/cmd/">Linux命令大全</a></li>
                <li><a href="index.htm" tppabs="http://shellbaike.com/cmdline/">Shell脚本学习</a></li>
                <li><a href="javascript:if(confirm('http://shellbaike.com/shell/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/shell/'" tppabs="http://shellbaike.com/shell/">Shell脚本编程</a></li>
                <li><a href="javascript:if(confirm('http://shellbaike.com/linux/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/linux/'" tppabs="http://shellbaike.com/linux/">Linux资讯</a></li>
            </ul>
        </div>
    </div>
</div>
<div id="main">
    <div class="wrapper">
        <div id="main_left" class="l mainInfo">
            <h1 class="titleInfo">
                第八章：从 shell 眼中看世界
            </h1>
            <div class="info">
                <span class="smartTime" smartTime="1420088204">2015-01-01 12:56:44 +0800 CST</span>
            </div>
            <div style="text-align: center;">
    
</div>
            <div class="mainContent">
                <p>在这一章我们将看一下，当你按下 enter 键后，发生在命令行中的一些“魔法”。虽然我们会 仔细查看几个复杂有趣的 shell 特点，但我们只使用一个新命令来处理这些特性。</p><ul><li>echo － 显示一行文本</li></ul><h3>(字符)展开</h3><p>每一次你输入一个命令，然后按下 enter 键，在 bash 执行你的命令之前，bash 会对输入 的字符完成几个步骤处理。我们已经知道两三个案例，怎样一个简单的字符序列，例如”*”, 对 shell 来说，有很多的涵义。使这个发生的过程叫做（字符）展开。通过展开， 你输入的字符，在 shell 对它起作用之前，会展开成为别的字符。为了说明我们所要 表达的意思，让我们看一看 <a href="javascript:if(confirm('http://shellbaike.com/cmd/echo  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/echo'" tppabs="http://shellbaike.com/cmd/echo" title="echo命令参数">echo</a> 命令。echo 是一个 shell 内部命令，来完成非常简单的任务。 它在标准输出中打印出它的文本参数。</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo this is a test
this is a test
</code></pre><p>这个命令的作用相当简单明了。传递到 echo 命令的任一个参数都会在（屏幕上）显示出来。 让我们试试另一个例子：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo *
Desktop Documents ls-output.txt Music Pictures Public Templates Videos
</code></pre><p>那么刚才发生了什么事情呢？ 为什么 echo 不打印”*“呢？随着你回想起我们所学过的 关于通配符的内容，这个”*“字符意味着匹配文件名中的任意字符，但是在原先的讨论 中我们却不知道 shell 是怎样实现这个功能的。最简单的答案就是 shell 把”*“展开成了 另外的东西（在这种情况下，就是在当前工作目录下的文件名字），在 echo 命令被执行 前。当回车键被按下时，shell 在命令被执行前在命令行上自动展开任何符合条件的字符， 所以 echo 命令从不会发现”*“,只把它展开成结果。知道了这个以后，我们能看到 echo 执行 的结果和我们想象的一样。</p><h3>路径名展开</h3><p>这种通配符工作机制叫做路径名展开。如果我们试一下在之前的章节中使用的技巧， 我们会看到它们真是要展开的字符。给出一个家目录，它看起来像这样：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ ls
Desktop   ls-output.txt   Pictures   Templates
....
</code></pre><p>我们能够执行以下参数展开模式：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo D*
Desktop  Documents
</code></pre><p>和：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo *s
Documents Pictures Templates Videos
</code></pre><p>甚至是：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo [[:upper:]]*
Desktop Documents Music Pictures Public Templates Videos
</code></pre><p>查看家目录之外的目录：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo /usr/*/share
/usr/kerberos/share  /usr/local/share
</code></pre><blockquote><p>隐藏文件路径名展开</p><p>正如我们知道的，以圆点字符开头的文件名是隐藏文件。路径名展开也尊重这种 行为。像这样的展开：</p><p>echo *</p><p>不会显示隐藏文件</p><p>要是展开模式以一个圆点开头，我们就能够在展开模式中包含隐藏文件， 而且隐藏文件可能会出现在第一位置，就像这样：</p><p>echo .*</p><p>它几乎是起作用了。然而，如果我们仔细检查一下输出结果，我们会看到名字”.” 和”..”也出现在结果中。因为这些名字是指当前工作目录和它的父目录，使用这种 模式可能会产生不正确的结果。我们能看到这样的结果，如果我们试一下这个命令：</p><p>ls -d .* | <a href="javascript:if(confirm('http://shellbaike.com/cmd/less  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/less'" tppabs="http://shellbaike.com/cmd/less" title="less用法">less</a></p><p>为了在这种情况下正确地完成路径名展开，我们应该雇佣一个更精确些的模式。 这个模式会正确地工作：</p><p><a href="javascript:if(confirm('http://shellbaike.com/cmd/ls  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/ls'" tppabs="http://shellbaike.com/cmd/ls" title="ls例子">ls</a> -d .[!.]?*</p><p>这种模式展开成为文件名，每个文件名以圆点开头，第二个字符不包含圆点，再包含至少一个字符， 并且这个字符之后紧接着任意多个字符。这将列出大多数的隐藏文件 （但仍将不能包含以多个圆点开头的文件名）这个带有 -A 选项（“几乎所有”）的 ls 命令能够提供一份正确的隐藏文件清单：</p><p>ls -A</p></blockquote><h3>波浪线展开</h3><p>可能你从我们对 <a href="javascript:if(confirm('http://shellbaike.com/cmd/cd  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/cd'" tppabs="http://shellbaike.com/cmd/cd" title="cd命令详解">cd</a> 命令的介绍中回想起来，波浪线字符(“~”)有特殊的意思。当它用在 一个单词的开头时，它会展开成指定用户的家目录名，如果没有指定用户名，则是当前用户的家目录：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo ~
/home/me
</code></pre><p>如果有用户”foo”这个帐号，然后：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo ~foo
/home/foo
</code></pre><h3>算术表达式展开</h3><p>shell 允许算术表达式通过展开来执行。这允许我们把 shell 提示当作计算器来使用：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $((2 + 2))
4
</code></pre><p>算术表达式展开使用这种格式：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">$((expression))
</code></pre><p>（以上括号中的）表达式是指算术表达式，它由数值和算术操作符组成。</p><p>算术表达式只支持整数（全部是数字，不带小数点），但是能执行很多不同的操作。这里是 一些它支持的操作符：</p>表 8-1: 算术操作符<table><colgroup><col width="NaN%"><col width="NaN%"></colgroup><tbody><tr><td>操作符</td><td>说明</td></tr><tr><td>+</td><td>加</td></tr><tr><td>-</td><td>减</td></tr><tr><td>*</td><td>乘</td></tr><tr><td>/</td><td>除（但是记住，因为展开只是支持整数除法，所以结果是整数。）</td></tr><tr><td>%</td><td>取余，只是简单的意味着，“余数”</td></tr><tr><td>**</td><td>取幂</td></tr></tbody></table><p>在算术表达式中空格并不重要，并且表达式可以嵌套。例如，5的平方乘以3：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $(($((5**2)) * 3))
75
</code></pre><p>一对括号可以用来把多个子表达式括起来。通过这个技术，我们可以重写上面的例子， 同时用一个展开代替两个，来得到一样的结果：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $(((5**2) * 3))
75
</code></pre><p>这是一个使用除法和取余操作符的例子。注意整数除法的结果：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo Five divided by two equals $((5/2))
Five divided by two equals 2
[me@linuxbox ~]$ echo with $((5%2)) left over.
with 1 left over.
</code></pre><p>在35章会更深入的讨论算术表达式的内容。</p><h3>花括号展开</h3><p>可能最奇怪的展开是花括号展开。通过它，你可以从一个包含花括号的模式中 创建多个文本字符串。这是一个例子：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo Front-{A,B,C}-Back
Front-A-Back Front-B-Back Front-C-Back
</code></pre><p>花括号展开模式可能包含一个开头部分叫做报头，一个结尾部分叫做附言。花括号表达式本身可 能包含一个由逗号分开的字符串列表，或者一系列整数，或者单个的字符串。这种模式可能 不包括嵌入的空白。这个例题使用了一系列整数：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo Number_{1..5}
Number_1  Number_2  Number_3  Number_4  Number_5
</code></pre><p>一系列以倒序排列的字母：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo {Z..A}
Z Y X W V U T S R Q P O N M L K J I H G F E D C B A
</code></pre><p>花括号展开可以嵌套：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo a{A{1,2},B{3,4}}b
aA1b aA2b aB3b aB4b
</code></pre><p>那么这对什么有好处呢？最普遍的应用是，创建一系列的文件或目录列表。例如， 如果我们是摄影师，有大量的相片。我们想把这些相片按年月先后组织起来。首先， 我们要创建一系列以数值”年－月”形式命名的目录。通过这种方式，目录名按照 年代顺序排列。我们可以键入整个目录列表，但是工作量太大了，并且易于出错。 反而，我们可以这样做：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ mkdir Pics
[me@linuxbox ~]$ cd Pics
[me@linuxbox Pics]$ mkdir {2007..2009}-0{1..9} {2007..2009}-{10..12}
[me@linuxbox Pics]$ ls
2007-01 2007-07 2008-01 2008-07 2009-01 2009-07
2007-02 2007-08 2008-02 2008-08 2009-02 2009-08
2007-03 2007-09 2008-03 2008-09 2009-03 2009-09
2007-04 2007-10 2008-04 2008-10 2009-04 2009-10
2007-05 2007-11 2008-05 2008-11 2009-05 2009-11
2007-06 2007-12 2008-06 2008-12 2009-06 2009-12
</code></pre><p>棒极了！</p><h3>参数展开</h3><p>在这一章我们将会简单地介绍参数展开，只是皮毛而已。后续章节我们会广泛地 讨论参数展开。这个特性在 shell 脚本中比直接在命令行中更有用。它的许多性能 和系统存储小块数据，并给每块数据命名的能力有关系。许多像这样的小块数据， 更适当些应叫做变量，可以方便地检查它们。例如，叫做”USER”的变量包含你的 用户名。唤醒参数展开，揭示 USER 中的内容，可以这样做：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $USER
me
</code></pre><p>查看有效的变量列表，试试这个：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ printenv | less
</code></pre><p>你可能注意到其它展开类型，如果你误输入一个模式，展开就不会发生。这时 echo 命令只简单地显示误键入的模式。通过参数展开，如果你拼写错了一个变量名， 展开仍然会进行，只是展成一个空字符串：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $SUER

[me@linuxbox ~]$
</code></pre><h3>命令替换</h3><p>命令替换允许我们把一个命令的输出作为一个展开模式来使用：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $(ls)
Desktop Documents ls-output.txt Music Pictures Public Templates
Videos
</code></pre><p>我最喜欢用的一行命令是像这样的：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ ls -l $(which cp)
-rwxr-xr-x 1 root root 71516 2007-12-05 08:58 /bin/cp
</code></pre><p>这里我们把 which <a href="javascript:if(confirm('http://shellbaike.com/cmd/cp  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/cp'" tppabs="http://shellbaike.com/cmd/cp" title="cp命令参数">cp</a> 的执行结果作为一个参数传递给 ls 命令，因此要想得到 cp 程序的 输出列表，不必知道它完整的路径名。我们不只限制于简单命令。也可以使用整个管道线 （只展示部分输出）：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ file $(ls /usr/bin/* | grep zip)
/usr/bin/bunzip2:     symbolic link to `bzip2'
....
</code></pre><p>在这个例子中，管道线的输出结果成为 <a href="javascript:if(confirm('http://shellbaike.com/cmd/file  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/file'" tppabs="http://shellbaike.com/cmd/file" title="file用法">file</a> 命令的参数列表。</p><p>在旧版 shell 程序中，有另一种语法也支持命令替换，可与刚提到的语法轮换使用。 bash 也支持这种语法。它使用倒引号来代替美元符号和括号：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ ls -l `which cp`
-rwxr-xr-x 1 root root 71516 2007-12-05 08:58 /bin/cp
</code></pre><h3>引用</h3><p>我们已经知道 shell 有许多方式可以完成展开，现在是时候学习怎样来控制展开了。 以下面例子来说明：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo this is a    test
this is a test
</code></pre><p>或者：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo The total is $100.00
The total is 00.00
</code></pre><p>在第一个例子中，shell 从 echo 命令的参数列表中，删除多余的空格。在第二个例子中， 参数展开把&nbsp;$1&nbsp;的值替换为一个空字符串，因为&nbsp;1&nbsp;是没有定义的变量。shell 提供了一种 叫做引用的机制，来有选择地禁止不需要的展开。</p><h3>双引号</h3><p>我们将要看一下引用的第一种类型，双引号。如果你把文本放在双引号中， shell 使用的特殊字符，除了 $，\ (反斜杠），和 `（倒引号）之外， 则失去它们的特殊含义，被当作普通字符来看待。这意味着单词分割，路径名展开， 波浪线展开，和花括号展开都被禁止，然而参数展开，算术展开，和命令替换 仍然执行。使用双引号，我们可以处理包含空格的文件名。比方说我们是不幸的 名为&nbsp;two words.txt&nbsp;文件的受害者。如果我们试图在命令行中使用这个 文件，单词分割机制会导致这个文件名被看作两个独自的参数，而不是所期望 的单个参数：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ ls -l two words.txt
ls: cannot access two: No such file or directory
ls: cannot access words.txt: No such file or directory
</code></pre><p>使用双引号，我们可以阻止单词分割，得到期望的结果；进一步，我们甚至可以修复 破损的文件名。</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ ls -l "two words.txt"
-rw-rw-r-- 1 me   me   18 2008-02-20 13:03 two words.txt
[me@linuxbox ~]$ mv "two words.txt" two_words.txt
</code></pre><p>你瞧！现在我们不必一直输入那些讨厌的双引号了。</p><p>记住，在双引号中，参数展开，算术表达式展开，和命令替换仍然有效：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo "$USER $((2+2)) $(cal)"
me 4    February 2008
Su Mo Tu We Th Fr Sa
....
</code></pre><p>我们应该花费一点时间来看一下双引号在命令替换中的效果。首先仔细研究一下单词分割 是怎样工作的。在之前的范例中，我们已经看到单词分割机制是怎样来删除文本中额外空格的：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo this is a   test
this is a test
</code></pre><p>在默认情况下，单词分割机制会在单词中寻找空格，制表符，和换行符，并把它们看作 单词之间的界定符。它们只作为分隔符使用。因为它们把单词分为不同的参数，在范例中， 命令行包含一个带有四个不同参数的命令。如果我们加上双引号：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo "this is a    test"
this is a    test
</code></pre><p>单词分割被禁止，内嵌的空格也不会被当作界定符，它们成为参数的一部分。 一旦加上双引号，我们的命令行就包含一个带有一个参数的命令。</p><p>事实上，单词分割机制把换行符看作界定符，对命令替换产生了一个，虽然微妙，但有趣的影响。 考虑下面的例子：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo $(cal)
February 2008 Su Mo Tu We Th Fr Sa 1 2 3 4 5 6 7 8 9 10 11 12 13 14
15 16 17 18 19 20 21 22 23 24 25 26 27 28 29
[me@linuxbox ~]$ echo "$(cal)"
February 2008
....
</code></pre><p>在第一个实例中，没有引用的命令替换导致命令行包含38个参数。在第二个例子中， 命令行只有一个参数，参数中包括嵌入的空格和换行符。</p><h3>单引号</h3><p>如果需要禁止所有的展开，我们使用单引号。以下例子是无引用，双引号，和单引号的比较结果：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo text ~/*.txt {a,b} $(echo foo) $((2+2)) $USER
text /home/me/ls-output.txt a b foo 4 me
[me@linuxbox ~]$ echo "text ~/*.txt {a,b} $(echo foo) $((2+2)) $USER"
text ~/*.txt   {a,b} foo 4 me
[me@linuxbox ~]$ echo 'text ~/*.txt {a,b} $(echo foo) $((2+2)) $USER'
text ~/*.txt  {a,b} $(echo foo) $((2+2)) $USER
</code></pre><p>正如我们所看到的，随着引用程度加强，越来越多的展开被禁止。</p><h3>转义字符</h3><p>有时候我们只想引用单个字符。我们可以在字符之前加上一个反斜杠，在这个上下文中叫做转义字符。 经常在双引号中使用转义字符，来有选择地阻止展开。</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ echo "The balance for user $USER is: \$5.00"
The balance for user me is: $5.00
</code></pre><p>使用转义字符来消除文件名中一个字符的特殊含义，是很普遍的。例如，在文件名中可能使用 一些对于 shell 来说，有特殊含义的字符。这些字符包括”$”, “!”, “ “等字符。在文件名 中包含特殊字符，你可以这样做：</p><pre><code style="font-family: 'Courier New', Courier, monospace; border: none;">[me@linuxbox ~]$ mv bad\&amp;filename good_filename
</code></pre><p>为了允许反斜杠字符出现，输入”\“来转义。注意在单引号中，反斜杠失去它的特殊含义，它 被看作普通字符。</p><blockquote><p>反斜杠转义字符序列</p><p>反斜杠除了作为转义字符外，反斜杠也是一种表示法的一部分，这种表示法代表某种 特殊字符，叫做控制码。ASCII 编码表中前32个字符被用来把命令转输到像电报机 一样的设备。一些编码是众所周知的（制表符，退格符，换行符，和回车符），其它 一些编码就不熟悉了（空值，传输结束码，和确认）。</p><table><colgroup><col width="NaN%"><col width="NaN%"></colgroup><tbody><tr><td>转义序列</td><td>含义</td></tr><tr><td>\a</td><td>响铃（”警告”－导致计算机嘟嘟响）</td></tr><tr><td>\b</td><td>退格符</td></tr><tr><td>\n</td><td>新的一行。在类 Unix 系统中，产生换行。</td></tr><tr><td>\r</td><td>回车符</td></tr><tr><td>\t</td><td>制表符</td></tr></tbody></table><p>上表列出了一些常见的反斜杠转义字符。反斜杠表示法背后的思想来源于 C 编程语言， 许多其它语言也采用了这种表示方法，包括 shell。</p><p>echo 命令带上 ‘-e’ 选项，能够解释转义序列。你可以把转义序列放在 $' ' 里面。 以下例子，使用 sleep 命令，一个简单的程序，它会等待指定的秒数，然后退出。 我们可以创建一个简单的倒数计数器：</p><p>sleep 10; echo -e "Time's up\a"</p><p>我们也可以这样做：</p><p>sleep 10; echo "Time's up" $'\a'</p></blockquote><h3>总结归纳</h3><p>随着我们继续学习 shell，你会发现使用展开和引用的频率逐渐多起来，所以能够很好的 理解他们的工作方式很有意义。事实上，可以这样说，他们是学习 shell 的最重要的主题。 如果没有准确地理解展开模式，shell 总是神秘和混乱的源泉，并且 shell 潜在的能力也 浪费掉了。</p><h3>拓展阅读</h3><ul><li><p>Bash 手册页有主要段落是关于展开和引用的，它们以更正式的方式介绍了这些题目。</p></li><li><p>Bash 参考手册也包含章节，介绍展开和引用：</p><p><a href="javascript:if(confirm('http://www.gnu.org/software/bash/manual/bashref.html  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://www.gnu.org/software/bash/manual/bashref.html'" tppabs="http://www.gnu.org/software/bash/manual/bashref.html" rel="nofollow">http://www.gnu.org/software/bash/manual/bashref.html</a></p></li></ul>
            </div>
        </div>
        <div id="main_right" class="r">
            <div class="rightItem">
                <h2>
                    Shell脚本学习目录
                </h2>
                <ul>
                    
                    <li><a href="1.htm" tppabs="http://shellbaike.com/cmdline/1">第一章 引言</a></li>
                    
                    <li><a href="2.htm" tppabs="http://shellbaike.com/cmdline/2">第二章 : 什么是 shell</a></li>
                    
                    <li><a href="3.htm" tppabs="http://shellbaike.com/cmdline/3">第三章：文件系统中跳转</a></li>
                    
                    <li><a href="5.htm" tppabs="http://shellbaike.com/cmdline/5">第四章：探究操作系统</a></li>
                    
                    <li><a href="6.htm" tppabs="http://shellbaike.com/cmdline/6">第五章：操作文件和目录</a></li>
                    
                    <li><a href="7.htm" tppabs="http://shellbaike.com/cmdline/7">第六章：使用命令</a></li>
                    
                    <li><a href="8.htm" tppabs="http://shellbaike.com/cmdline/8">第七章：重定向</a></li>
                    
                    <li><a href="9.htm" tppabs="http://shellbaike.com/cmdline/9">第八章：从 shell 眼中看世界</a></li>
                    
                    <li><a href="10.htm" tppabs="http://shellbaike.com/cmdline/10">第九章：键盘高级操作技巧</a></li>
                    
                    <li><a href="11.htm" tppabs="http://shellbaike.com/cmdline/11">第十章：权限</a></li>
                    
                    <li><a href="12.htm" tppabs="http://shellbaike.com/cmdline/12">第十一章：进程</a></li>
                    
                    <li><a href="15.htm" tppabs="http://shellbaike.com/cmdline/15">第十二章 : shell 环境</a></li>
                    
                    <li><a href="16.htm" tppabs="http://shellbaike.com/cmdline/16">第十三章 : vi 简介</a></li>
                    
                    <li><a href="17.htm" tppabs="http://shellbaike.com/cmdline/17">第十四章 : 自定制 shell 提示符</a></li>
                    
                    <li><a href="18.htm" tppabs="http://shellbaike.com/cmdline/18">第十五章 : 软件包管理</a></li>
                    
                    <li><a href="19.htm" tppabs="http://shellbaike.com/cmdline/19">第十六章 : 存储媒介</a></li>
                    
                    <li><a href="20.htm" tppabs="http://shellbaike.com/cmdline/20">第十七章 : 网络系统</a></li>
                    
                    <li><a href="21.htm" tppabs="http://shellbaike.com/cmdline/21">第十八章 : 查找文件</a></li>
                    
                    <li><a href="22.htm" tppabs="http://shellbaike.com/cmdline/22">第十九章 : 归档和备份</a></li>
                    
                    <li><a href="23.htm" tppabs="http://shellbaike.com/cmdline/23">第二十章 : 正则表达式</a></li>
                    
                    <li><a href="24.htm" tppabs="http://shellbaike.com/cmdline/24">第二十一章 : 文本处理</a></li>
                    
                    <li><a href="25.htm" tppabs="http://shellbaike.com/cmdline/25">第二十二章 : 格式化输出</a></li>
                    
                    <li><a href="26.htm" tppabs="http://shellbaike.com/cmdline/26">第二十三章 : 打印</a></li>
                    
                    <li><a href="27.htm" tppabs="http://shellbaike.com/cmdline/27">第二十四章 : 编译程序</a></li>
                    
                    <li><a href="28.htm" tppabs="http://shellbaike.com/cmdline/28">第二十五章 : 编写第一个 Shell 脚本</a></li>
                    
                    <li><a href="29.htm" tppabs="http://shellbaike.com/cmdline/29">第二十六章 : 启动一个项目</a></li>
                    
                    <li><a href="30.htm" tppabs="http://shellbaike.com/cmdline/30">第二十七章 : 自顶向下设计</a></li>
                    
                    <li><a href="31.htm" tppabs="http://shellbaike.com/cmdline/31">第二十八章 : 流程控制：if 分支结构</a></li>
                    
                    <li><a href="32.htm" tppabs="http://shellbaike.com/cmdline/32">第二十九章 : 读取键盘输入</a></li>
                    
                    <li><a href="33.htm" tppabs="http://shellbaike.com/cmdline/33">第三十章 : 流程控制：while/until 循环</a></li>
                    
                    <li><a href="34.htm" tppabs="http://shellbaike.com/cmdline/34">第三十一章 : 疑难排解</a></li>
                    
                    <li><a href="35.htm" tppabs="http://shellbaike.com/cmdline/35">第三十二章 : 流程控制：case 分支</a></li>
                    
                    <li><a href="36.htm" tppabs="http://shellbaike.com/cmdline/36">第三十三章 : 位置参数</a></li>
                    
                    <li><a href="37.htm" tppabs="http://shellbaike.com/cmdline/37">第三十四章 : 流程控制：for 循环</a></li>
                    
                    <li><a href="38.htm" tppabs="http://shellbaike.com/cmdline/38">第三十五章 : 字符串和数字</a></li>
                    
                    <li><a href="39.htm" tppabs="http://shellbaike.com/cmdline/39">第三十六章 : 数组</a></li>
                    
                    <li><a href="40.htm" tppabs="http://shellbaike.com/cmdline/40">第三十七章 : 奇珍异宝</a></li>
                    
                </ul>
            </div>
            <div class="rightItem">
    <h2>
        Shell随机文章
    </h2>
    <ul>
        
        <li><a href="3.htm" tppabs="http://shellbaike.com/cmdline/3">第三章：文件系统中跳转</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/shell/13  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/shell/13'" tppabs="http://shellbaike.com/shell/13">Linux安装软件</a></li>
        
        <li><a href="32.htm" tppabs="http://shellbaike.com/cmdline/32">第二十九章 : 读取键盘输入</a></li>
        
        <li><a href="36.htm" tppabs="http://shellbaike.com/cmdline/36">第三十三章 : 位置参数</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/linux/59  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/linux/59'" tppabs="http://shellbaike.com/linux/59">使用 Docker 还是 Rocket ？也许可以一起来</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/linux/62  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/linux/62'" tppabs="http://shellbaike.com/linux/62">游戏操作系统 SteamOS 1.0 Beta Update 153 发布</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/shell/64  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/shell/64'" tppabs="http://shellbaike.com/shell/64">shell中使用别名alias</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/linux/65  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/linux/65'" tppabs="http://shellbaike.com/linux/65">Linux Kernel 3.19-rc5 发布下载</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/shell/72  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/shell/72'" tppabs="http://shellbaike.com/shell/72">硬盘监控和分析工具：Smartctl</a></li>
        
        <li><a href="javascript:if(confirm('http://shellbaike.com/linux/74  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/linux/74'" tppabs="http://shellbaike.com/linux/74">面向新手的 Linux 系统 HandyLinux 1.8 发布</a></li>
        
    </ul>
</div>
            <div class="rightItem">
    <h2>
        Linux常用命令
    </h2>
    <ul>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/adduser  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/adduser'" tppabs="http://shellbaike.com/cmd/adduser">adduser</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/alias  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/alias'" tppabs="http://shellbaike.com/cmd/alias">alias</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/apachectl  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/apachectl'" tppabs="http://shellbaike.com/cmd/apachectl">apachectl</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/apmd  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/apmd'" tppabs="http://shellbaike.com/cmd/apmd">apmd</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/apropos  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/apropos'" tppabs="http://shellbaike.com/cmd/apropos">apropos</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/ar  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/ar'" tppabs="http://shellbaike.com/cmd/ar">ar</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/arpwatch  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/arpwatch'" tppabs="http://shellbaike.com/cmd/arpwatch">arpwatch</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/aspell  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/aspell'" tppabs="http://shellbaike.com/cmd/aspell">aspell</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/aumix  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/aumix'" tppabs="http://shellbaike.com/cmd/aumix">aumix</a></li>
        
        <li class="tagItem"><a href="javascript:if(confirm('http://shellbaike.com/cmd/badblocks  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/badblocks'" tppabs="http://shellbaike.com/cmd/badblocks">badblocks</a></li>
        
    </ul>
    <div class="clear"></div>
</div>
            <br/>
<script type="text/javascript">
    document.write('<a style="display:none!important" id="tanx-a-mm_12741493_8680874_29282972"></a>');
    tanx_s = document.createElement("script");
    tanx_s.type = "text/javascript";
    tanx_s.charset = "gbk";
    tanx_s.id = "tanx-s-mm_12741493_8680874_29282972";
    tanx_s.async = true;
    tanx_s.src = "../../p.tanx.com/ex-i=mm_12741493_8680874_29282972"/*tpa=http://p.tanx.com/ex?i=mm_12741493_8680874_29282972*/;
    tanx_h = document.getElementsByTagName("head")[0];
    if(tanx_h)tanx_h.insertBefore(tanx_s,tanx_h.firstChild);
</script>
        </div>
        <div class="clear"></div>
    </div>
</div>
<div class="links">
    <div class="wrapper">
        <h3>友情链接</h3>
        <hr>
        <ul>
            <li>
                <a href="javascript:if(confirm('http://shellbaike.com/cmd/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://shellbaike.com/cmd/'" tppabs="http://shellbaike.com/cmd/" title="Linux命令大全" target="_blank">Linux命令大全</a>
            </li>
            <li>
                <a href="javascript:if(confirm('http://zhikanlouzhu.com/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://zhikanlouzhu.com/'" tppabs="http://zhikanlouzhu.com/" title="只看楼主网 - 最专业的只看楼主精品帖子网站" target="_blank">只看楼主网</a>
            </li>
            <li>
                <a href="javascript:if(confirm('http://luceneapi.com/  \n\nļ޷ Jeff Chou , Ϊ һ·ⲿΪʼַĵַ  \n\nڷϴ?'))window.location='http://luceneapi.com/'" tppabs="http://luceneapi.com/" title="Lucene API - 最全的Lucene教程、Lucene入门、Lucene API、Lucene资料网站" target="_blank">Lucene API</a>
            </li>
        </ul>
        <div class="clear"></div>
    </div>
</div>
<div id="footer">
    <div class="wrapper" style="text-align: center;">
        <p>&copy; SHELL 百科</p><br/>
        <p class="info">最全linux命令大全 Shell脚本编程技巧分享</p>
        <br/>
        <p>
            <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1254040888'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/stat.php%3Fid%3D1254040888%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script>
        </p>
        <br/>
        <br/>
    </div>
</div>
<script type="text/javascript" src="../static/js/jquery.min.js" tppabs="http://shellbaike.com/static/js/jquery.min.js"></script>
<script type="text/javascript" src="../static/js/main.js" tppabs="http://shellbaike.com/static/js/main.js"></script>
<script type="text/javascript" src="../static/js/prism_pre.js" tppabs="http://shellbaike.com/static/js/prism_pre.js"></script>
<script type="text/javascript" >
    $(function(){
        $(".smartTime").smartTime();
        $(".mainInfo").dblclick(function(){
            $("html , body").animate({scrollTop:"0"}, 0);
        });
    });
</script>
</body>
</html>